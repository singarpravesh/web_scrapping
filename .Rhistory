La1 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La1 <- NA
}
### Next location
if (element_exists("css", "i.pageComponent")) {
remDr$findElement(using = "css", value = "i.pageComponent")$clickElement()
remDr$findElement(using = "css", value = "#LANDMARK_VIEW_ALL")$clickElement()
remDr$findElement(using = "css", value = ".RoadDistanceBtmSheet__nudgeWrapper > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La2 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
}else {
La2 <- NA
}
if (element_exists("css", ".icon_goToTop")){
remDr$findElement(using = "css", value = ".icon_goToTop")$clickElement()
remDr$findElement(using = "css", value = "div.cc__CarouselBox:nth-child(2) > div:nth-child(1) > div:nth-child(3) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La3 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La3 <- NA
}
if (element_exists("css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")){
remDr$findElement(using = "css", value = "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")$clickElement()
remDr$findElement(using = "css", value = "div.cc__CarouselBox:nth-child(2) > div:nth-child(1) > div:nth-child(4) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La4 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La4 <- NA
}
if (element_exists("css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")){
remDr$findElement(using = "css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")$clickElement()
remDr$findElement(using = "css", value = "div.cc__CarouselBox:nth-child(2) > div:nth-child(1) > div:nth-child(5) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La5 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La5 <- NA
}
if (element_exists("css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")){
remDr$findElement(using = "css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")$clickElement()
remDr$findElement(using = "css", value = "div.cc__CarouselBox:nth-child(2) > div:nth-child(1) > div:nth-child(6) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La6 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La6 <- NA
}
if (element_exists("css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")){
remDr$findElement(using = "css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")$clickElement()
remDr$findElement(using = "css", value = "div.cc__CarouselBox:nth-child(2) > div:nth-child(1) > div:nth-child(7) > span:nth-child(3) > span:nth-child(1)")$clickElement()
remDr$executeScript("window.scrollTo(0,700);") # Scroll to the specific section
html_page <- remDr$getPageSource()[[1]]
La7 <- read_html(html_page) |>
html_nodes('div[class="RoadDistanceBtmSheet__distance"]') %>%
html_text() %>% list()
} else {
La7 <- NA
}
if (element_exists("css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")){
remDr$findElement(using = "css", "div.cc__whiteBg:nth-child(3) > i:nth-child(1)")$clickElement()
} else {
La8 <- NA
}
Distance_to_locational_advantage[i] <- mget(paste0('La', 1:8)) |> list()
} else {
Distance_to_locational_advantage[i] <- NA
}
}, error = function(e) {
message("Locational advantages not found: ", e$message)
})
remDr$closeWindow()
rD$server$stop()
# Remove the objects that can clutter the environment
remove(html)
remove(json_ld_data)
remove(json_ld_script)
remove(html_page)
remove(rD)
remove(remDr)
gc()
}
Price
tibble(
price = Price,
bhk = Bhk,
area_sqft = Area_sqft,
latitude = Latitude ,
longitude = Longitude ,
top_facilities = Top_facilities,
other_facilities = Other_facilities,
locational_advantages = Locational_advantages,
distance_to_locational_advantage = Distance_to_locational_advantage
)
# Activate firefox
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$closeWindow()
rD$server$stop()
}
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$closeWindow()
rD$server$stop()
}
paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j
)
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$closeWindow()
rD$server$stop()
rD$server$stop()
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
library(RSelenium)
library(rvest)
library(jsonlite)
library(dplyr)
library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
remDr$closeWindow()
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
remDr$closeWindow()
rD$server$stop()
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
library(RSelenium)
library(rvest)
library(jsonlite)
library(dplyr)
library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
# Activate firefox
urls <- c()
rD$server$stop()
remDr$closeWindow()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
# Activate firefox
urls <- c()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
remDr$closeWindow()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
}
# Initalise the variables
Price <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
}
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
# Activate firefox
urls <- c()
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
library(RSelenium)
library(rvest)
library(jsonlite)
library(dplyr)
library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
remDr$closeWindow()
rD$server$stop()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
rD$server$stop()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
library(RSelenium)
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
for (j in 26:100){
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page
page_urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x) { x$getElementAttribute("href")[[1]] }) |>
list()
# Append new URLs to the urls list
urls <- append(urls, page_urls)
# Safely close the session
safe_close(rD, remDr)
}
