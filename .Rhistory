}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
price
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
price
?rsDriver
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
price
urls
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "//*[@class = 'GeoCoordinates']")
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
remDr$closeall()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price[i] = remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- c()
coordinates <- c()
d <- data.frame(
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- c()
coordinates <- c()
d <- data.frame(
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
price <- c()
coordinates <- c()
price
coordinates
class(price)
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
coordinates
price
library(RSelenium)
library(dplyr)
# Method 1
# Install chromedriver
# Documentation at https://cran.r-project.org/web/packages/RSelenium/RSelenium.pdf page 16
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
# Method 2
# Run the following from terminal. Docker required.
# docker pull selenium/standalone-firefox
# docker run -d -p 4445:4444 selenium/standalone-firefox
# Run
# remDr <- remoteDriver(
#   remoteServerAddr = "localhost",
#   port = 4445L,
#   browserName = "firefox"
# )
# remDr$open()
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
price <- c()
coordinates <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
bhk <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
bhk
library(RSelenium)
library(dplyr)
# Method 1
# Install chromedriver
# Documentation at https://cran.r-project.org/web/packages/RSelenium/RSelenium.pdf page 16
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
# Method 2
# Run the following from terminal. Docker required.
# docker pull selenium/standalone-firefox
# docker run -d -p 4445:4444 selenium/standalone-firefox
# Run
# remDr <- remoteDriver(
#   remoteServerAddr = "localhost",
#   port = 4445L,
#   browserName = "firefox"
# )
# remDr$open()
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
price <- c()
bhk <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
?remDr$findElements
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$closeall()
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$navigate(urls[1])
install.packages(c('jsonlite', 'jsonld'))
install.packages(c("jsonlite", "jsonld"))
library(jsonlite)
library(jsonld)
# URL of the website
url <- remDr$navigate(urls[1])
remDr$closeall()
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
library(jsonlite)
library(jsonld)
urls[1]
# Send a GET request to the URL
response <- GET(urls[1])
remDr$findElement(using = "css selector", value = "script[type='application/ld+json']")
script_tag <- remDr$findElement(using = "css selector", value = "script[type='application/ld+json']")
script_tag
script_tag$getText()
script_tag$getElementText()
price <- c()
bhk <- c()
coordinates <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
coordinates <- list()
coordinates
class(coordinates)
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$getElementText()[[1]]})
remDr$navigate(urls[1])
#################
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[1])
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$getElementText()[[1]]})
c
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$getElementText()})
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript()})
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$navigate(urls[1])
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[1])
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript()})
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript("@type":"GeoCoordinates")})
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript("GeoCoordinates")})
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript("@type")})
c <- remDr$findElements(using = "css selector", value="script[type='application/ld+json']" ) |>
sapply(function(x){x$executeScript("data-react-helmet")})
remDr$navigate(urls[1])
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$closeall()
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$findElements(using = "css selector", value="script[type='application/ld+json']" )
#################
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
#################
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$navigate(urls[1])
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[1])
remDr$findElements(using = "css", value="script[type='application/ld+json']" )
findElements(using = "css", value="script[type='application/ld+json']" )$getElementText()
remDr$findElements(using = "css", value="script[type='application/ld+json']" )$getElementText()
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText()})
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText(5:6)})
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText("GeoCoordinates")})
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText()[[1]]})
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$executeScript()[[1]]})
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText()[[1]]}) |>
jsonlite::fromJSON(json_ld)
remDr$findElements(using = "css", value="script[type='application/ld+json']")|>
sapply(function(x){x$getElementText()[[1]]}) |>
jsonlite::fromJSON()
remDr$findElement(using = "xpath", value = "//div[@class='coordinates']")$getElementText()
remDr$findElement(using = "xpath", value = "//div[@class='GeoCoordinates']")$getElementText()
remDr$findElement(using = "xpath", value = "//div[@type='GeoCoordinates']")$getElementText()
remDr$findElement(using = "xpath", value = "//script[@type='GeoCoordinates']")$getElementText()
remDr$findElement(using = "xpath", value = "//script[@type='application/ld+json']")$getElementText()
library(jsonlite)
# Extract the JSON-LD script tag
json_ld_script <- html_nodes(urls[1], "script[type='application/ld+json']")
library(rvest)
# Extract the JSON-LD script tag
json_ld_script <- html_nodes(urls[1], "script[type='application/ld+json']")
html <- read_html(urls[1])
urls[1]
html <- read_html(urls[1])
html <- read_html_live(urls[1])
# Extract the JSON-LD script tag
json_ld_script <- html_nodes(html, "script[type='application/ld+json']")
# Parse the JSON-LD data
json_ld_data <- lapply(json_ld_script, function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
json_ld_data
json_ld_data$geo$latitude()
json_ld_data$geo$latitude
json_ld_data[[3]]
json_ld_data[[3]]$geo
json_ld_data[[3]]$geo$latitude
latitude <- read_html_live(urls[i]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str[i] <- html_text(x)
fromJSON(json_str)
}) |>
json_ld_data[[3]]$geo$latitude
latitude <- read_html_live(urls[i]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str[i] <- html_text(x)
fromJSON(json_str)
}) |>
json_ld_data[[3]]
latitude <- read_html_live(urls[i]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str[i] <- html_text(x)
fromJSON(json_str)
}) |>
json_ld_data.[[3]]
latitude <- read_html_live(urls[i]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str[i] <- html_text(x)
fromJSON(json_str)
})
json_str <- html_text(x)
latitude <- read_html_live(urls[i]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
latitude <- read_html_live(urls[1]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
read_html_live(urls[1]) |>
html_nodes("script[type='application/ld+json']")
read_html_live(urls[1])
latitude <- read_html_live(urls[1]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
latitude
json_str
latitude <- read_html_live(urls[1]) |>
html_nodes("script[type='application/ld+json']") |>
lapply(.,function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
read_html_live(urls[1]) |>
html_nodes("script[type='application/ld+json']")
html <- read_html_live(urls[1])
# Extract the JSON-LD script tag
json_ld_script <- html_nodes(html, "script[type='application/ld+json']")
# Parse the JSON-LD data
json_ld_data <- lapply(json_ld_script, function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
json_ld_data[[3]]$geo$latitude
html
urls[1]
html <- read_html_live(urls[1])
# Extract the JSON-LD script tag
json_ld_script <- html_nodes(html, "script[type='application/ld+json']")
json_ld_script
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
urls[1]
# latitude
html <- read_html_live(urls[1])
json_ld_script <- html_nodes(html, "script[type='application/ld+json']")
json_ld_data <- lapply(json_ld_script, function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
json_ld_data
json_ld_data[[3]]
json_ld_data <- lapply(json_ld_script, function(x) {
json_str <- html_text(x)
fromJSON(json_str)
})
json_ld_data
# latitude
html <- read_html_live(urls[1])
html
# latitude
html <- read_html(urls[1])
# latitude
html <- read_html_live(urls[1])
html
