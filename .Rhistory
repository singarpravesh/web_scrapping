library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
remDr$closeWindow()
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
remDr$closeWindow()
rD$server$stop()
for (j in 26:100){
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
rD$server$stop()
remDr$closeWindow()
}
library(RSelenium)
library(rvest)
library(jsonlite)
library(dplyr)
library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
# Activate firefox
urls <- c()
rD$server$stop()
remDr$closeWindow()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
# Activate firefox
urls <- c()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
remDr$closeWindow()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
rD$server$stop()
remDr$closeWindow()
}
rD$server$stop()
# Activate firefox
urls <- list()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
}
# Initalise the variables
Price <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
}
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
# Activate firefox
urls <- c()
# Get all the urls in page 4
urls[j] <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
rD$server$stop()
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
library(RSelenium)
library(rvest)
library(jsonlite)
library(dplyr)
library(tictoc)
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
remDr$closeWindow()
rD$server$stop()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
rD$server$stop()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
# Activate firefox
urls <- c()
for (j in 26:100){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$setTimeout(type = "implicit", milliseconds = 80000) # Wait to load the page
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
}
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
# navigate to page 6
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Get all the urls in page 4
urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]]) |>
list()
remDr$closeWindow()
remDr$setTimeout(type = "implicit", milliseconds = 20000) # Wait to load the page
rD$server$stop()
library(RSelenium)
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
for (j in 26:100){
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page
page_urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x) { x$getElementAttribute("href")[[1]] }) |>
list()
# Append new URLs to the urls list
urls <- append(urls, page_urls)
# Safely close the session
safe_close(rD, remDr)
}
library(RSelenium)
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
for (j in 26:100){
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page
page_urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x) { x$getElementAttribute("href")[[1]] }) |>
list()
# Append new URLs to the urls list
urls <- append(urls, page_urls)
# Safely close the session
safe_close(rD, remDr)
}
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
for (j in 26:100){
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page
page_urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x) { x$getElementAttribute("href")[[1]] }) |>
list()
# Append new URLs to the urls list
urls <- append(urls, page_urls)
# Safely close the session
safe_close(rD, remDr)
}
for (j in 26:100){
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page
page_urls <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']") |>
sapply(function(x) { x$getElementAttribute("href")[[1]] }) |>
list()
# Append new URLs to the urls list
urls <- append(urls, page_urls)
# Safely close the session
safe_close(rD, remDr)
}
library(RSelenium)
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
# Function to get URLs from the page with retry logic
get_urls_with_retry <- function(remDr, retries = 3) {
for (i in 1:retries) {
tryCatch({
elements <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']")
return(sapply(elements, function(x) x$getElementAttribute("href")[[1]]))
}, error = function(e) {
if (inherits(e, "org.openqa.selenium.StaleElementReferenceException")) {
if (i == retries) stop("Failed to get elements after multiple retries")
} else {
stop(e)
}
})
}
return(NULL)
}
for (j in 26:100) {
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page with retry logic
page_urls <- get_urls_with_retry(remDr)
# Append new URLs to the urls list
if (!is.null(page_urls)) {
urls <- append(urls, list(page_urls))
}
# Safely close the session
safe_close(rD, remDr)
}
rD$server$stop()
remDr$closeWindow()
library(RSelenium)
# Initialize urls as a list
urls <- list()
# Function to safely close Selenium session
safe_close <- function(rD, remDr) {
tryCatch({
remDr$closeWindow()
rD$server$stop()
}, error = function(e) {})
}
# Function to get URLs from the page with retry logic
get_urls_with_retry <- function(remDr, retries = 3) {
for (i in 1:retries) {
tryCatch({
elements <- remDr$findElements(using = "xpath", "//*[@class='tupleNew__propertyHeading ellipsis']")
return(sapply(elements, function(x) x$getElementAttribute("href")[[1]]))
}, error = function(e) {
if (inherits(e, "org.openqa.selenium.StaleElementReferenceException")) {
if (i == retries) stop("Failed to get elements after multiple retries")
} else {
stop(e)
}
})
}
return(NULL)
}
for (j in 26:100) {
# Start a new RSelenium session
rD <- rsDriver(browser="firefox", chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD$client
# Navigate to the desired page
remDr$navigate(paste0("https://www.99acres.com/property-in-kolkata-ffid-page-", j))
# Wait to load the page
remDr$setTimeout(type = "implicit", milliseconds = 20000)
# Get all the urls in the page with retry logic
page_urls <- get_urls_with_retry(remDr)
# Append new URLs to the urls list
if (!is.null(page_urls)) {
urls <- append(urls, list(page_urls))
}
# Safely close the session
safe_close(rD, remDr)
}
