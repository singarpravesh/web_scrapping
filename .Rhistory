library(RSelenium)
library(tidyverse)
link <- "https://www.nytimes.com/"
read_html(link) -> nyt_page
library(rvest)
rvest::read_html(link) -> nyt_page
nyt_page
nyt_page |>
html_elements(css = ".css-1gg6cw2")
nyt_page |>
html_elements(css = ".css-1gg6cw2") |>
html_text()
nyt_page |>
html_elements(xpath = "/html/body/div/div[3]/main/div/div[1]/div/div[1]/div/div[1]/div/div/div/div[1]/div[2]/div/div/div[1]/div[1]/div/section[1]/a/div/div/p")
nyt_page |>
html_elements(xpath = "/html/body/div/div[3]/main/div/div[1]/div/div[1]/div/div[1]/div/div/div/div[1]/div[2]/div/div/div[1]/div[1]/div/section[1]/a/div/div/p") |>
html_text()
nyt_page |>
html_elements(xpath = "")
nyt_page |>
html_elements(xpath = "")
nyt_page |>
html_elements(css = "div.css-1dz6m7o:nth-child(1) > div:nth-child(2) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > section:nth-child(1) > a:nth-child(1) > div:nth-child(1) > p:nth-child(2)") |>
html_text()
nyt_page |>
html_elements(css = ".css-4blv3u") |>
html_text()
nyt_page |>
html_elements(css = ".css-4blv3u") |>
html_text()
nyt_page |>
html_elements(css = ".css-4blv3u")
nyt_page |>
html_elements(css = "/html/body/div/div[3]/main/div/div[1]/div/div[1]/div/div[2]/div/div/div[1]/div/div/section/a/div/div/p") |>
html_text()
nyt_page |>
html_elements(css = "/html/body/div/div[3]/main/div/div[1]/div/div[1]/div/div[2]/div/div/div[1]/div/div/section/a/div/div/p")
nyt_page |>
html_elements(css = "html/body/div/div[3]/main/div/div[1]/div/div[1]/div/div[2]/div/div/div[1]/div/div/section/a/div/div/p") |>
html_text()
nyt_page |>
html_elements(css = ".css-4blv3u") |>
html_text()
nyt_page |>
html_element(css = ".css-4blv3u") |>
html_text()
nyt_page |>
html_element(css = "html.nytapp-vi-homepage.g-page-production.g-viewport-xxsmall.g-viewport-xsmall.g-viewport-small.g-viewport-medium.g-viewport-large.g-viewport-xlarge.g-page-isdesktop.g-page-islandscape.g-page-iswidescreen.g-page-islargescreen body div#app div main#site-content div.css-pqd7q9.eu3y8st0 div.smartphone.tablet.desktop div div.css-1mooo4k.e1ppw5w20 div.css-m5ahyg div.css-1l10c03.e17qa79g0 div div div.css-5bh64l.e1ppw5w20 div.css-1dz6m7o.e1ppw5w20 div.css-1lvvmm div.css-1l10c03.e17qa79g0 div.css-hep49k.e1yccyp20 div.css-1lvvmm div.css-1432v6n.e17qa79g0 div.css-hep49k.e1yccyp20 section.story-wrapper a.css-9mylee div div.css-xdandi p.indicate-hover.css-1gg6cw2") |>
html_text()
nyt_page |>
html_element(css = ".css-1gg6cw2") |>
html_text()
nyt_page |>
html_element(css = ".indicate-hover") |>
html_text()
nyt_page |>
html_elements(css = ".indicate-hover") |>
html_text()
?html_elements
acres <- "https://www.99acres.com/search/property/buy/kolkata?city=25&keyword=kolkata&preference=S&area_unit=1&res_com=R"
read_html("acres") -> acres_page
acres <- "https://www.99acres.com/search/property/buy/kolkata?city=25&keyword=kolkata&preference=S&area_unit=1&res_com=R"
read_html("acres") -> acres_page
rvest::read_html("acres") -> acres_page
acres <- "https://www.99acres.com/search/property/buy/kolkata?city=25&keyword=kolkata&preference=S&area_unit=1&res_com=R"
rvest::read_html("acres") -> acres_page
library(RSelenium)
rd <- rsDriver(browser = "firefox", chromever = NULL, netstat::port = free_port())
rd <- rsDriver(browser = "firefox", chromever = NULL)
remDr <- rd$client
url <- remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
remDr$open("https://www.99acres.com/property-in-kolkata-ffid-page1")
url <- remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
library(rvest)
library(tidyverse)
library(RSelenium)
rd <- rsDriver(browser = "firefox", chromever = NULL)
remDr <- rd$client
url <- remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
?html_elements()
url |>
html_elements(css = ".ellipsis")
url |>
html_elements(css = ".ellipsis", value = "href")
url |>
html_elements(css = "a.ellipsis")
url |>
html_elements(xpath = "/html/body/div[1]/div/div/div[4]/div[3]/div[2]/section[9]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a")
links <- remDr$findElements(using = "xpath", value = "//*[@class = 'ellipsis']")
links
url
unlist(links)
# initialising the lists that will containt the scraped data
house_urls <- list()
links <- remDr$findElements(using = "xpath", value = "//*[@class = 'ellipsis']")
house_urls <- append(
house_images,
links$findChildElement(using = "css selector", value = "ellipsis")$getElementAttribute("href")[[1]]
)
house_urls <- append(
house_urls,
links$findChildElement(using = "css selector", value = "ellipsis")$getElementAttribute("href")[[1]]
)
links$findChildElement(using = "css selector", value = "ellipsis")$getElementAttribute("href")
for (link in links){
house_urls <- append(
house_urls,
links$findChildElement(using = "css selector", value = "ellipsis")$getElementAttribute("href")[[1]]
)
}
links
rd <- rsDriver(browser = "firefox", chromever = NULL)
remDr <- rd$client
url <- remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
link <- sapply(links, function(x){x$getElementAttribute("href")[[1]]})
link
link <- sapply(links, function(x){x$getElementAttribute("href")})
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://books.toscrape.com/")
remDr$getCurrentUrl()
titleElements <- remDr$findElements(using = "xpath", "//article//img")
titleElements
titles <- sapply(titleElements, function(x){x$getElementAttribute("alt")[[1]]})
titles
titleElements <- remDr$findElements(using = "xpath", "/html/body/div/div/div/div/section/div[2]/ol/li[1]/article/div[1]/a/img")
titles <- sapply(titleElements, function(x){x$getElementAttribute("alt")[[1]]})
titles
titleElements <- remDr$findElements(using = "xpath", "li.col-xs-6:nth-child(1) > article:nth-child(1) > div:nth-child(1) > a:nth-child(1) > img:nth-child(1)")
titleElements <- remDr$findElements(using = "xpath", "/html/body/div/div/div/div/section/div[2]/ol/li[3]/article/div[1]/a/img")
titles <- sapply(titleElements, function(x){x$getElementAttribute("alt")[[1]]})
titles
titles <- sapply(titleElements, function(x){x$getElementAttribute("alt")})
titles
titleElements <- remDr$findElements(using = "xpath", "//[@class='thumbnail']")
titleElements <- remDr$findElements(using = "xpath", "//*[@class='thumbnail']")
titles <- sapply(titleElements, function(x){x$getElementAttribute("alt")}[[1]])
titles
sapply(titleElements, function(x){x$getElementAttribute("alt")}
)
pricesElements <- remDr$findElements(using = "xpath", "//*[@class='price_color']")
prices <-  sapply(pricesElements, function(x){x$getElementText()[[1]]})
prices
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
remDr$getCurrentUrl()
titleElements <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']")
titles <- sapply(titleElements, function(x){x$getElementAttribute("href")}[[1]])
titles
titles[1]
remDr$navigate(titles[1])
remDr$navigate(titles[1])
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9512L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate(titles[1])
remDr$getCurrentUrl()
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']")
prices <- sapply(price, function(x){x$getElementText()[[1]]})
prices
nrow(titles)
dim(titles)
length(titles)
for (i in length(titles)){
rD[i] <- rsDriver(browser="firefox",chromever = NULL, port = netstat::free_port() , verbose=F)
remDr[i] <- rD[i][["client"]]
remDr[i]$navigate(titles[i])
price[i] <- remDr[i]$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']")
prices[i] <- sapply(price[i], function(x){x$getElementText()[[1]]})
data <- data.frame(prices[i])
}
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
urls[1]
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
urls[1]
length(urls)
for (i in 1:2){
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
for (i in 1:2){
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
library(RSelenium)
library(dplyr)
# Method 1
# Install chromedriver
# Documentation at https://cran.r-project.org/web/packages/RSelenium/RSelenium.pdf page 16
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
# Method 2
# Run the following from terminal. Docker required.
# docker pull selenium/standalone-firefox
# docker run -d -p 4445:4444 selenium/standalone-firefox
# Run
# remDr <- remoteDriver(
#   remoteServerAddr = "localhost",
#   port = 4445L,
#   browserName = "firefox"
# )
# remDr$open()
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
for (i in 1:2){
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
price
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
}
price
?rsDriver
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
price
urls
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "//*[@class = 'GeoCoordinates']")
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
remDr$closeall()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price[i] = remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- c()
coordinates <- c()
d <- data.frame(
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- c()
coordinates <- c()
d <- data.frame(
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
price <- c()
coordinates <- c()
price
coordinates
class(price)
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
d <- data.frame(
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]}),
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
)
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
coordinates
price
library(RSelenium)
library(dplyr)
# Method 1
# Install chromedriver
# Documentation at https://cran.r-project.org/web/packages/RSelenium/RSelenium.pdf page 16
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
# Method 2
# Run the following from terminal. Docker required.
# docker pull selenium/standalone-firefox
# docker run -d -p 4445:4444 selenium/standalone-firefox
# Run
# remDr <- remoteDriver(
#   remoteServerAddr = "localhost",
#   port = 4445L,
#   browserName = "firefox"
# )
# remDr$open()
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
price <- c()
coordinates <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
coordinates[i] <- remDr$findElements(using = "xpath", "/html/head/script[16]") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
bhk <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
bhk
library(RSelenium)
library(dplyr)
# Method 1
# Install chromedriver
# Documentation at https://cran.r-project.org/web/packages/RSelenium/RSelenium.pdf page 16
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
# Method 2
# Run the following from terminal. Docker required.
# docker pull selenium/standalone-firefox
# docker run -d -p 4445:4444 selenium/standalone-firefox
# Run
# remDr <- remoteDriver(
#   remoteServerAddr = "localhost",
#   port = 4445L,
#   browserName = "firefox"
# )
# remDr$open()
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
price <- c()
bhk <- c()
for (i in 1:2){
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr <- rD[["client"]]
remDr$navigate(urls[i])
price[i] <- remDr$findElements(using = "xpath", "//*[@class='list_header_semiBold configurationCards__configurationCardsHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
bhk[i] <- remDr$findElements(using = "xpath", "//*[@class='ellipsis list_header_semiBold configurationCards__configurationCardsSubHeading']") |>
sapply(function(x){x$getElementText()[[1]]})
remDr$closeWindow()
}
?remDr$findElements
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
remDr$closeall()
rD <- rsDriver(browser="firefox",chromever = NULL, port=netstat::free_port(), verbose=F)
library(RSelenium)
library(dplyr)
rD <- rsDriver(browser="firefox",chromever = NULL, port=9511L, verbose=F)
remDr <- rD[["client"]]
remDr$navigate("https://www.99acres.com/property-in-kolkata-ffid-page1")
urls <- remDr$findElements(using = "xpath", "//*[@class='ellipsis']") |>
sapply(function(x){x$getElementAttribute("href")}[[1]])
remDr$navigate(urls[1])
install.packages(c('jsonlite', 'jsonld'))
install.packages(c("jsonlite", "jsonld"))
library(jsonlite)
library(jsonld)
# URL of the website
url <- remDr$navigate(urls[1])
remDr$closeall()
